<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>rank</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<body style="background-color: #100C2A;">
<div id="main" style="top:100px;width: 1500px;height:1500px;position: relative;margin: auto;"></div>
<script type="text/javascript">
  var ratePt = 100
  var rateZy = 30
  var data = {
    ratePt:ratePt,
    rateZy:rateZy,
  };

  var chartBar = echarts.init(document.getElementById('main'), 'dark');
  var jsonData = JSON.stringify(data);
  $.ajax({
    type:'POST',
    url: '/api/rank',
    contentType: "application/json",
    data: jsonData,
    success: function(result) {

      chartBar.setOption(
              {
                title: {
                  text:  '排行榜'
                },
                tooltip: {
                  trigger: 'axis',
                  axisPointer: {
                    type: 'shadow'
                  }
                },
                legend: {
                  data: ['pt', 'zy', 'cnt', 'total']
                },
                grid: {
                  containLabel: true
                },
                xAxis: {
                  type: 'value',
                  interval:500,
                },
                yAxis: {
                  type: 'category',
                  axisTick: {
                    show: false
                  },
                  data: result.data.date
                },
                series: [
                  {
                    name: 'pt',
                    type: 'bar',
                    stack: 'total',
                    label: {
                      show: true,
                    },
                    emphasis: {
                      focus: 'series'
                    },
                    data: result.data.linePt
                  },
                  {
                    name: 'zy',
                    type: 'bar',
                    stack: 'total',
                    label: {
                      show: true,
                    },
                    emphasis: {
                      focus: 'series'
                    },
                    data: result.data.lineZy
                  },
                  {
                    name: 'cnt',
                    type: 'bar',
                    stack: 'total',
                    label: {
                      show: true,
                    },
                    emphasis: {
                      focus: 'series'
                    },
                    data: result.data.lineCnt
                  },
                  {
                    name: 'total',
                    type: 'bar',
                    stack: 'total',
                    label: {
                      show: true,
                    },
                    emphasis: {
                      focus: 'series'
                    },
                    data: result.data.lineTotal
                  },
                ]
              }
      );
    },
    error: function(xhr, status, error) {
    }
  })

</script>
</body>
</html>

<!--


-->